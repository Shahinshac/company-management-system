<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>26:07 - Company Management System</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary: #6366f1; --primary-dark: #4f46e5; --secondary: #8b5cf6;
            --success: #10b981; --warning: #f59e0b; --danger: #ef4444;
            --dark: #1f2937; --light: #f3f4f6;
            --gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--light); min-height: 100vh; color: #333; }
        
        /* Sidebar */
        .sidebar { position: fixed; left: 0; top: 0; width: 260px; height: 100vh; background: var(--dark); color: white; padding: 20px 0; overflow-y: auto; z-index: 1000; }
        .sidebar-header { padding: 0 20px 20px; border-bottom: 1px solid rgba(255,255,255,0.1); text-align: center; }
        .sidebar-header h1 { font-size: 2rem; background: var(--gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .sidebar-header p { font-size: 0.8rem; opacity: 0.7; margin-top: 5px; }
        .nav-menu { list-style: none; padding: 20px 0; }
        .nav-item { padding: 12px 25px; cursor: pointer; display: flex; align-items: center; gap: 12px; transition: all 0.3s; border-left: 3px solid transparent; position: relative; }
        .nav-item:hover { background: rgba(255,255,255,0.1); }
        .nav-item.active { background: rgba(99, 102, 241, 0.2); border-left-color: var(--primary); }
        .nav-badge { position: absolute; right: 20px; background: var(--danger); color: white; font-size: 0.7rem; padding: 2px 8px; border-radius: 10px; }
        
        /* Main Content */
        .main-content { margin-left: 260px; min-height: 100vh; }
        .topbar { background: white; padding: 15px 30px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; }
        .topbar-left h2 { font-size: 1.5rem; color: var(--dark); }
        .topbar-right { display: flex; align-items: center; gap: 20px; }
        .user-info { display: flex; align-items: center; gap: 10px; }
        .user-avatar { width: 40px; height: 40px; border-radius: 50%; background: var(--gradient); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; }
        
        .page-content { padding: 30px; }
        .page { display: none; }
        .page.active { display: block; }
        
        /* Cards */
        .card { background: white; border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); margin-bottom: 20px; }
        .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .card-title { font-size: 1.2rem; font-weight: 600; color: var(--dark); }
        
        /* Stats Grid */
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-card { background: white; border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); position: relative; overflow: hidden; }
        .stat-card::before { content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 100%; }
        .stat-card.blue::before { background: var(--primary); }
        .stat-card.green::before { background: var(--success); }
        .stat-card.purple::before { background: var(--secondary); }
        .stat-card.orange::before { background: var(--warning); }
        .stat-card h3 { font-size: 2rem; margin-bottom: 5px; color: var(--dark); }
        .stat-card p { color: #666; font-size: 0.9rem; }
        .stat-card .icon { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); font-size: 3rem; opacity: 0.1; }
        
        /* Buttons */
        .btn { padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer; font-size: 0.9rem; font-weight: 500; transition: all 0.3s; display: inline-flex; align-items: center; gap: 8px; }
        .btn-primary { background: var(--gradient); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4); }
        .btn-success { background: var(--success); color: white; }
        .btn-danger { background: var(--danger); color: white; }
        .btn-secondary { background: #6b7280; color: white; }
        .btn-warning { background: var(--warning); color: white; }
        .btn-small { padding: 6px 12px; font-size: 0.85rem; }
        .btn-outline { background: transparent; border: 2px solid var(--primary); color: var(--primary); }
        
        /* Tables */
        .table-container { overflow-x: auto; }
        table { width: 100%; border-collapse: collapse; }
        thead { background: var(--light); }
        th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid #e5e7eb; }
        th { font-weight: 600; color: var(--dark); font-size: 0.85rem; text-transform: uppercase; }
        tbody tr:hover { background: #f9fafb; }
        .actions { display: flex; gap: 8px; }
        
        /* Action Bar */
        .action-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 15px; }
        .search-box { flex: 1; max-width: 400px; position: relative; }
        .search-box input { width: 100%; padding: 12px 15px 12px 40px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 0.95rem; }
        .search-box input:focus { outline: none; border-color: var(--primary); }
        .search-box::before { content: 'üîç'; position: absolute; left: 12px; top: 50%; transform: translateY(-50%); }
        
        /* Modal */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; justify-content: center; align-items: center; backdrop-filter: blur(5px); }
        .modal.active { display: flex; }
        .modal-content { background: white; padding: 30px; border-radius: 16px; width: 90%; max-width: 600px; max-height: 90vh; overflow-y: auto; animation: slideIn 0.3s ease; }
        .modal-large { max-width: 800px; }
        @keyframes slideIn { from { transform: translateY(-50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
        .modal-header h2 { color: var(--dark); }
        .modal-close { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #666; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 500; color: #374151; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 0.95rem; }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: var(--primary); }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .form-row-3 { grid-template-columns: 1fr 1fr 1fr; }
        .modal-actions { display: flex; gap: 10px; justify-content: flex-end; margin-top: 25px; }
        
        /* Employee Photo */
        .photo-upload { display: flex; align-items: center; gap: 20px; margin-bottom: 20px; }
        .photo-preview { width: 100px; height: 100px; border-radius: 50%; background: var(--light); display: flex; align-items: center; justify-content: center; font-size: 3rem; overflow: hidden; border: 3px solid #e5e7eb; }
        .photo-preview img { width: 100%; height: 100%; object-fit: cover; }
        .photo-actions { display: flex; flex-direction: column; gap: 10px; }
        
        /* Employee Card View */
        .employee-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .employee-card { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); transition: transform 0.3s; }
        .employee-card:hover { transform: translateY(-5px); }
        .employee-card-header { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; }
        .employee-photo { width: 60px; height: 60px; border-radius: 50%; background: var(--gradient); display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem; font-weight: bold; overflow: hidden; }
        .employee-photo img { width: 100%; height: 100%; object-fit: cover; }
        .employee-info h3 { font-size: 1.1rem; color: var(--dark); margin-bottom: 3px; }
        .employee-info p { font-size: 0.85rem; color: #666; }
        .employee-details { font-size: 0.9rem; color: #555; }
        .employee-details p { margin-bottom: 5px; display: flex; align-items: center; gap: 8px; }
        .employee-card-actions { margin-top: 15px; display: flex; gap: 10px; }
        
        /* Toast */
        .toast { position: fixed; top: 20px; right: 20px; padding: 15px 25px; border-radius: 10px; color: white; font-weight: 500; z-index: 3000; animation: slideInRight 0.3s ease; display: none; }
        .toast.show { display: block; }
        .toast.success { background: var(--success); }
        .toast.error { background: var(--danger); }
        .toast.warning { background: var(--warning); }
        @keyframes slideInRight { from { transform: translateX(100%); } to { transform: translateX(0); } }
        
        /* Badge */
        .badge { display: inline-block; padding: 4px 10px; border-radius: 20px; font-size: 0.75rem; font-weight: 500; }
        .badge-success { background: #d1fae5; color: #065f46; }
        .badge-warning { background: #fef3c7; color: #92400e; }
        .badge-danger { background: #fee2e2; color: #991b1b; }
        .badge-info { background: #dbeafe; color: #1e40af; }
        
        /* Tab Buttons */
        .tab-buttons { display: flex; gap: 10px; margin-bottom: 20px; }
        .tab-btn { padding: 10px 20px; border: none; background: #e5e7eb; border-radius: 8px; cursor: pointer; font-weight: 500; }
        .tab-btn.active { background: var(--primary); color: white; }
        
        /* Dependent List */
        .dependent-list { display: grid; gap: 10px; }
        .dependent-item { display: flex; justify-content: space-between; align-items: center; padding: 15px; background: var(--light); border-radius: 8px; }
        .dependent-info h4 { font-size: 0.95rem; color: var(--dark); }
        .dependent-info p { font-size: 0.8rem; color: #666; }
        
        /* View Toggle */
        .view-toggle { display: flex; gap: 5px; }
        .view-toggle button { padding: 8px 12px; border: 1px solid #e5e7eb; background: white; cursor: pointer; }
        .view-toggle button.active { background: var(--primary); color: white; border-color: var(--primary); }
        .view-toggle button:first-child { border-radius: 6px 0 0 6px; }
        .view-toggle button:last-child { border-radius: 0 6px 6px 0; }
        
        /* Section Header */
        .section-header { background: var(--light); padding: 10px 15px; margin: -25px -25px 20px; border-radius: 12px 12px 0 0; font-weight: 600; color: var(--dark); }
        
        /* Empty State */
        .empty-state { text-align: center; padding: 50px; color: #666; }
        .empty-state span { font-size: 4rem; display: block; margin-bottom: 15px; }
        
        /* Responsive */
        @media (max-width: 768px) {
            .sidebar { transform: translateX(-100%); }
            .main-content { margin-left: 0; }
            .form-row, .form-row-3 { grid-template-columns: 1fr; }
            .stats-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h1>26:07</h1>
            <p id="companyTagline">Company Management</p>
        </div>
        <ul class="nav-menu">
            <li class="nav-item active" onclick="showPage('dashboard')"><span>üìä</span> Dashboard</li>
            <li class="nav-item" onclick="showPage('companies')"><span>üè¢</span> Companies</li>
            <li class="nav-item" onclick="showPage('employees')"><span>üë•</span> Employees</li>
            <li class="nav-item" onclick="showPage('departments')"><span>üèõÔ∏è</span> Departments</li>
            <li class="nav-item" onclick="showPage('dependents')"><span>üë®‚Äçüë©‚Äçüëß‚Äçüë¶</span> Dependents</li>
            <li class="nav-item" onclick="showPage('works')"><span>üíº</span> Work Assignments</li>
            <li class="nav-item" onclick="showPage('manages')"><span>üëî</span> Management</li>
            <li class="nav-item" onclick="showPage('leaves')"><span>üèñÔ∏è</span> Leave Management</li>
            <li class="nav-item" onclick="showPage('attendance')"><span>üìÖ</span> Attendance</li>
            <li class="nav-item" onclick="showPage('documents')"><span>üìÑ</span> Documents</li>
            <li class="nav-item" onclick="showPage('performance')"><span>‚≠ê</span> Performance</li>
            <li class="nav-item" onclick="showPage('reports')"><span>üìà</span> Reports</li>
            <li class="nav-item" onclick="showPage('users')" id="usersNav"><span>üë§</span> User Management <span class="nav-badge" id="pendingBadge" style="display:none">0</span></li>
            <li class="nav-item" onclick="showPage('settings')"><span>‚öôÔ∏è</span> Settings</li>
        </ul>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <header class="topbar">
            <div class="topbar-left"><h2 id="pageTitle">Dashboard</h2></div>
            <div class="topbar-right">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">A</div>
                    <div>
                        <strong id="displayUsername">Admin</strong>
                        <p style="font-size:0.8rem;color:#666" id="userRole">Administrator</p>
                    </div>
                </div>
                <button class="btn btn-danger btn-small" onclick="logout()">Logout</button>
            </div>
        </header>

        <div class="page-content">
            <!-- Dashboard Page -->
            <div id="dashboard" class="page active">
                <div class="stats-grid">
                    <div class="stat-card blue"><h3 id="statCompanies">0</h3><p>Companies</p><div class="icon">üè¢</div></div>
                    <div class="stat-card green"><h3 id="statEmployees">0</h3><p>Employees</p><div class="icon">üë•</div></div>
                    <div class="stat-card purple"><h3 id="statPayroll">$0</h3><p>Monthly Payroll</p><div class="icon">üí∞</div></div>
                    <div class="stat-card orange"><h3 id="statDependents">0</h3><p>Dependents</p><div class="icon">üë®‚Äçüë©‚Äçüëß</div></div>
                    <div class="stat-card blue"><h3 id="statLeavesPending">0</h3><p>Pending Leaves</p><div class="icon">üèñÔ∏è</div></div>
                    <div class="stat-card green"><h3 id="statDocExpiring">0</h3><p>Docs Expiring</p><div class="icon">üìÑ</div></div>
                </div>
                <div style="display:grid;grid-template-columns:2fr 1fr;gap:20px">
                    <div class="card">
                        <div class="card-header"><h3 class="card-title">Recent Employees</h3></div>
                        <div id="recentEmployees" class="employee-grid"></div>
                    </div>
                    <div class="card">
                        <div class="card-header"><h3 class="card-title">üéÇ Upcoming Birthdays</h3></div>
                        <div id="upcomingBirthdays"></div>
                    </div>
                </div>
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:20px">
                    <div class="card">
                        <div class="card-header"><h3 class="card-title">üéâ Work Anniversaries</h3></div>
                        <div id="upcomingAnniversaries"></div>
                    </div>
                    <div class="card">
                        <div class="card-header"><h3 class="card-title">Quick Actions</h3></div>
                        <div style="display:flex;flex-direction:column;gap:10px">
                            <button class="btn btn-primary" onclick="showPage('employees');openEmployeeModal()">‚ûï Add Employee</button>
                            <button class="btn btn-success" onclick="showPage('companies');openCompanyModal()">üè¢ Add Company</button>
                            <button class="btn btn-secondary" onclick="showPage('leaves');openLeaveModal()">üèñÔ∏è Request Leave</button>
                            <button class="btn btn-warning" onclick="showPage('reports')">üìà View Reports</button>
                            <button class="btn btn-outline" onclick="exportData()">üì• Export Data</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Companies Page -->
            <div id="companies" class="page">
                <div class="action-bar">
                    <div class="search-box"><input type="text" id="companySearch" placeholder="Search companies..." onkeyup="searchCompanies()"></div>
                    <button class="btn btn-primary" onclick="openCompanyModal()">‚ûï Add Company</button>
                </div>
                <div class="card"><div class="table-container">
                    <table><thead><tr><th>Company</th><th>City</th><th>Industry</th><th>Employees</th><th>Payroll</th><th>Actions</th></tr></thead>
                    <tbody id="companiesTable"></tbody></table>
                </div></div>
            </div>

            <!-- Employees Page -->
            <div id="employees" class="page">
                <div class="action-bar">
                    <div class="search-box"><input type="text" id="employeeSearch" placeholder="Search employees..." onkeyup="searchEmployees()"></div>
                    <div style="display:flex;gap:10px">
                        <div class="view-toggle">
                            <button class="active" onclick="setEmployeeView('grid')">üî≤</button>
                            <button onclick="setEmployeeView('table')">‚ò∞</button>
                        </div>
                        <button class="btn btn-primary" onclick="openEmployeeModal()">‚ûï Add Employee</button>
                    </div>
                </div>
                <div id="employeeGridView" class="employee-grid"></div>
                <div id="employeeTableView" class="card" style="display:none"><div class="table-container">
                    <table><thead><tr><th>Photo</th><th>Name</th><th>Email</th><th>Job Title</th><th>Department</th><th>Status</th><th>Actions</th></tr></thead>
                    <tbody id="employeesTable"></tbody></table>
                </div></div>
            </div>

            <!-- Dependents Page -->
            <div id="dependents" class="page">
                <div class="action-bar">
                    <div class="search-box"><input type="text" id="dependentSearch" placeholder="Search dependents..." onkeyup="searchDependents()"></div>
                    <button class="btn btn-primary" onclick="openDependentModal()">‚ûï Add Dependent</button>
                </div>
                <div class="card"><div class="table-container">
                    <table><thead><tr><th>Name</th><th>Relationship</th><th>Employee</th><th>DOB</th><th>Emergency Contact</th><th>Actions</th></tr></thead>
                    <tbody id="dependentsTable"></tbody></table>
                </div></div>
            </div>

            <!-- Works Page -->
            <div id="works" class="page">
                <div class="action-bar">
                    <div class="search-box"><input type="text" id="worksSearch" placeholder="Search..." onkeyup="searchWorks()"></div>
                    <button class="btn btn-primary" onclick="openWorksModal()">‚ûï Assign Employee</button>
                </div>
                <div class="card"><div class="table-container">
                    <table><thead><tr><th>Employee</th><th>Company</th><th>Salary</th><th>Actions</th></tr></thead>
                    <tbody id="worksTable"></tbody></table>
                </div></div>
            </div>

            <!-- Manages Page -->
            <div id="manages" class="page">
                <div class="action-bar"><div></div><button class="btn btn-primary" onclick="openManagesModal()">‚ûï Assign Manager</button></div>
                <div class="card"><div class="table-container">
                    <table><thead><tr><th>Employee</th><th>Reports To</th><th>Actions</th></tr></thead>
                    <tbody id="managesTable"></tbody></table>
                </div></div>
            </div>

            <!-- Departments Page -->
            <div id="departments" class="page">
                <div class="action-bar">
                    <div class="search-box"><input type="text" id="departmentSearch" placeholder="Search departments..." onkeyup="searchDepartments()"></div>
                    <button class="btn btn-primary" onclick="openDepartmentModal()">‚ûï Add Department</button>
                </div>
                <div class="card"><div class="table-container">
                    <table><thead><tr><th>Department</th><th>Head</th><th>Employees</th><th>Budget</th><th>Status</th><th>Actions</th></tr></thead>
                    <tbody id="departmentsTable"></tbody></table>
                </div></div>
            </div>

            <!-- Leave Management Page -->
            <div id="leaves" class="page">
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="switchLeaveTab('requests')">Leave Requests</button>
                    <button class="tab-btn" onclick="switchLeaveTab('balance')">My Balance</button>
                    <button class="tab-btn" onclick="switchLeaveTab('holidays')">Holidays</button>
                </div>
                <div id="leaveRequestsSection">
                    <div class="action-bar">
                        <div class="search-box"><input type="text" id="leaveSearch" placeholder="Search leaves..." onkeyup="searchLeaves()"></div>
                        <div style="display:flex;gap:10px">
                            <select id="leaveStatusFilter" onchange="filterLeaves()">
                                <option value="">All Status</option>
                                <option value="Pending">Pending</option>
                                <option value="Approved">Approved</option>
                                <option value="Rejected">Rejected</option>
                            </select>
                            <button class="btn btn-primary" onclick="openLeaveModal()">‚ûï Request Leave</button>
                        </div>
                    </div>
                    <div class="card"><div class="table-container">
                        <table><thead><tr><th>Employee</th><th>Type</th><th>From</th><th>To</th><th>Days</th><th>Status</th><th>Actions</th></tr></thead>
                        <tbody id="leavesTable"></tbody></table>
                    </div></div>
                </div>
                <div id="leaveBalanceSection" style="display:none">
                    <div class="stats-grid" id="leaveBalanceCards"></div>
                </div>
                <div id="holidaysSection" style="display:none">
                    <div class="action-bar">
                        <div></div>
                        <button class="btn btn-primary" onclick="openHolidayModal()">‚ûï Add Holiday</button>
                    </div>
                    <div class="card"><div class="table-container">
                        <table><thead><tr><th>Date</th><th>Holiday</th><th>Type</th><th>Applicable To</th><th>Actions</th></tr></thead>
                        <tbody id="holidaysTable"></tbody></table>
                    </div></div>
                </div>
            </div>

            <!-- Attendance Page -->
            <div id="attendance" class="page">
                <div class="action-bar">
                    <div style="display:flex;gap:10px">
                        <select id="attendanceEmployee" onchange="loadAttendanceForEmployee()">
                            <option value="">-- Select Employee --</option>
                        </select>
                        <select id="attendanceMonth" onchange="loadAttendanceForEmployee()">
                            <option value="1">January</option><option value="2">February</option><option value="3">March</option>
                            <option value="4">April</option><option value="5">May</option><option value="6">June</option>
                            <option value="7">July</option><option value="8">August</option><option value="9">September</option>
                            <option value="10">October</option><option value="11">November</option><option value="12">December</option>
                        </select>
                        <select id="attendanceYear" onchange="loadAttendanceForEmployee()">
                            <option value="2026">2026</option><option value="2025">2025</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="openAttendanceModal()">‚ûï Mark Attendance</button>
                </div>
                <div class="stats-grid" id="attendanceSummary"></div>
                <div class="card"><div class="table-container">
                    <table><thead><tr><th>Date</th><th>Check In</th><th>Check Out</th><th>Status</th><th>Notes</th></tr></thead>
                    <tbody id="attendanceTable"></tbody></table>
                </div></div>
            </div>

            <!-- Documents Page -->
            <div id="documents" class="page">
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="switchDocTab('all')">All Documents</button>
                    <button class="tab-btn" onclick="switchDocTab('expiring')">‚ö†Ô∏è Expiring Soon</button>
                    <button class="tab-btn" onclick="switchDocTab('expired')">‚ùå Expired</button>
                </div>
                <div class="action-bar">
                    <div class="search-box"><input type="text" id="documentSearch" placeholder="Search documents..." onkeyup="searchDocuments()"></div>
                    <div style="display:flex;gap:10px">
                        <select id="documentCategory" onchange="filterDocuments()">
                            <option value="">All Categories</option>
                            <option value="ID Proof">ID Proof</option>
                            <option value="Visa">Visa</option>
                            <option value="Contract">Contract</option>
                            <option value="Certificate">Certificate</option>
                        </select>
                        <button class="btn btn-primary" onclick="openDocumentModal()">‚ûï Add Document</button>
                    </div>
                </div>
                <div class="card"><div class="table-container">
                    <table><thead><tr><th>Name</th><th>Category</th><th>Employee</th><th>Expiry</th><th>Verified</th><th>Actions</th></tr></thead>
                    <tbody id="documentsTable"></tbody></table>
                </div></div>
            </div>

            <!-- Performance Page -->
            <div id="performance" class="page">
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="switchPerfTab('reviews')">Reviews</button>
                    <button class="tab-btn" onclick="switchPerfTab('goals')">Goals & KPIs</button>
                </div>
                <div id="reviewsSection">
                    <div class="action-bar">
                        <div class="search-box"><input type="text" id="reviewSearch" placeholder="Search reviews..." onkeyup="searchReviews()"></div>
                        <button class="btn btn-primary" onclick="openReviewModal()">‚ûï New Review</button>
                    </div>
                    <div class="card"><div class="table-container">
                        <table><thead><tr><th>Employee</th><th>Period</th><th>Type</th><th>Rating</th><th>Status</th><th>Actions</th></tr></thead>
                        <tbody id="reviewsTable"></tbody></table>
                    </div></div>
                </div>
                <div id="goalsSection" style="display:none">
                    <div class="action-bar">
                        <select id="goalsEmployee" onchange="loadGoalsForEmployee()">
                            <option value="">-- Select Employee --</option>
                        </select>
                        <button class="btn btn-primary" onclick="openGoalModal()">‚ûï Add Goal</button>
                    </div>
                    <div class="card" id="goalsContainer"></div>
                </div>
            </div>

            <!-- Reports Page -->
            <div id="reports" class="page">
                <div class="stats-grid">
                    <div class="card"><div class="card-header"><h3 class="card-title">üìä Salary by Company</h3></div><div id="salaryByCompanyReport"></div></div>
                    <div class="card"><div class="card-header"><h3 class="card-title">üë®‚Äçüë©‚Äçüëß Employees by Dependents</h3></div><div id="employeeDependentReport"></div></div>
                </div>
                <div class="card"><div class="card-header"><h3 class="card-title">üìã Employee Summary</h3></div>
                    <div class="table-container"><table><thead><tr><th>Department</th><th>Employees</th><th>Avg Salary</th></tr></thead><tbody id="departmentReport"></tbody></table></div>
                </div>
            </div>

            <!-- User Management Page (Admin Only) -->
            <div id="users" class="page">
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="switchUserTab('pending')">Pending Approval</button>
                    <button class="tab-btn" onclick="switchUserTab('all')">All Users</button>
                </div>
                <div id="pendingUsersSection" class="card">
                    <div class="card-header"><h3 class="card-title">‚è≥ Pending User Approvals</h3></div>
                    <div class="table-container"><table><thead><tr><th>Name</th><th>Username</th><th>Email</th><th>Registered</th><th>Actions</th></tr></thead>
                    <tbody id="pendingUsersTable"></tbody></table></div>
                </div>
                <div id="allUsersSection" class="card" style="display:none">
                    <div class="card-header"><h3 class="card-title">üë• All Users</h3></div>
                    <div class="table-container"><table><thead><tr><th>Name</th><th>Username</th><th>Email</th><th>Role</th><th>Status</th><th>Actions</th></tr></thead>
                    <tbody id="allUsersTable"></tbody></table></div>
                </div>
            </div>

            <!-- Settings Page -->
            <div id="settings" class="page">
                <div class="card">
                    <div class="section-header">üè¢ Company Settings</div>
                    <form id="settingsForm" onsubmit="saveSettings(event)">
                        <div class="form-row"><div class="form-group"><label>Company Name</label><input type="text" id="settingCompanyName" value="26:07"></div>
                        <div class="form-group"><label>Tagline</label><input type="text" id="settingTagline" value="Excellence in Management"></div></div>
                        <div class="form-row"><div class="form-group"><label>Currency</label><select id="settingCurrency"><option value="USD">USD ($)</option><option value="EUR">EUR (‚Ç¨)</option><option value="GBP">GBP (¬£)</option><option value="INR">INR (‚Çπ)</option></select></div>
                        <div class="form-group"><label>Date Format</label><select id="settingDateFormat"><option value="YYYY-MM-DD">YYYY-MM-DD</option><option value="DD/MM/YYYY">DD/MM/YYYY</option><option value="MM/DD/YYYY">MM/DD/YYYY</option></select></div></div>
                        <button type="submit" class="btn btn-primary">üíæ Save Settings</button>
                    </form>
                </div>
                <div class="card">
                    <div class="section-header">üîí Change Password</div>
                    <form id="passwordForm" onsubmit="changePassword(event)">
                        <div class="form-group"><label>Current Password</label><input type="password" id="currentPassword" required></div>
                        <div class="form-row"><div class="form-group"><label>New Password</label><input type="password" id="newPassword" required></div>
                        <div class="form-group"><label>Confirm Password</label><input type="password" id="confirmPassword" required></div></div>
                        <button type="submit" class="btn btn-warning">üîí Change Password</button>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <div id="toast" class="toast"></div>

    <!-- Company Modal -->
    <div id="companyModal" class="modal"><div class="modal-content">
        <div class="modal-header"><h2 id="companyModalTitle">Add Company</h2><button class="modal-close" onclick="closeModal('companyModal')">&times;</button></div>
        <form id="companyForm" onsubmit="saveCompany(event)">
            <input type="hidden" id="companyOldName">
            <div class="form-row"><div class="form-group"><label>Company Name *</label><input type="text" id="companyName" required></div>
            <div class="form-group"><label>City *</label><input type="text" id="companyCity" required></div></div>
            <div class="form-row"><div class="form-group"><label>Industry</label><input type="text" id="companyIndustry"></div>
            <div class="form-group"><label>Founded Year</label><input type="number" id="companyFoundedYear" min="1900" max="2030"></div></div>
            <div class="form-row"><div class="form-group"><label>Phone</label><input type="tel" id="companyPhone"></div>
            <div class="form-group"><label>Email</label><input type="email" id="companyEmail"></div></div>
            <div class="form-group"><label>Address</label><textarea id="companyAddress" rows="2"></textarea></div>
            <div class="modal-actions"><button type="button" class="btn btn-secondary" onclick="closeModal('companyModal')">Cancel</button><button type="submit" class="btn btn-primary">Save</button></div>
        </form>
    </div></div>

    <!-- Employee Modal -->
    <div id="employeeModal" class="modal"><div class="modal-content modal-large">
        <div class="modal-header"><h2 id="employeeModalTitle">Add Employee</h2><button class="modal-close" onclick="closeModal('employeeModal')">&times;</button></div>
        <form id="employeeForm" onsubmit="saveEmployee(event)">
            <input type="hidden" id="employeeId">
            <div class="photo-upload">
                <div class="photo-preview" id="photoPreview">üë§</div>
                <div class="photo-actions">
                    <input type="text" id="photoUrl" placeholder="Enter photo URL">
                    <small style="color:#666">Enter a URL for employee photo</small>
                </div>
            </div>
            <div class="section-header">üë§ Personal Information</div>
            <div class="form-row"><div class="form-group"><label>Full Name *</label><input type="text" id="empName" required></div>
            <div class="form-group"><label>Email</label><input type="email" id="empEmail"></div></div>
            <div class="form-row-3"><div class="form-group"><label>Phone</label><input type="tel" id="empPhone"></div>
            <div class="form-group"><label>Date of Birth</label><input type="date" id="empDob"></div>
            <div class="form-group"><label>Gender</label><select id="empGender"><option value="">Select</option><option value="Male">Male</option><option value="Female">Female</option><option value="Other">Other</option></select></div></div>
            <div class="form-row"><div class="form-group"><label>Marital Status</label><select id="empMaritalStatus"><option value="">Select</option><option value="Single">Single</option><option value="Married">Married</option><option value="Divorced">Divorced</option><option value="Widowed">Widowed</option></select></div>
            <div class="form-group"><label>Nationality</label><input type="text" id="empNationality"></div></div>
            
            <div class="section-header">üìç Address</div>
            <div class="form-row-3"><div class="form-group"><label>Street No</label><input type="number" id="streetNo"></div>
            <div class="form-group"><label>Street Name</label><input type="text" id="streetName"></div>
            <div class="form-group"><label>City</label><input type="text" id="empCity"></div></div>
            <div class="form-row-3"><div class="form-group"><label>State</label><input type="text" id="empState"></div>
            <div class="form-group"><label>ZIP Code</label><input type="text" id="empZip"></div>
            <div class="form-group"><label>Country</label><input type="text" id="empCountry" value="USA"></div></div>
            
            <div class="section-header">üíº Employment Details</div>
            <div class="form-row"><div class="form-group"><label>Job Title</label><input type="text" id="empJobTitle"></div>
            <div class="form-group"><label>Department</label><input type="text" id="empDepartment"></div></div>
            <div class="form-row-3"><div class="form-group"><label>Hire Date</label><input type="date" id="empHireDate"></div>
            <div class="form-group"><label>Employment Type</label><select id="empType"><option value="Full-time">Full-time</option><option value="Part-time">Part-time</option><option value="Contract">Contract</option><option value="Intern">Intern</option></select></div>
            <div class="form-group"><label>Status</label><select id="empStatus"><option value="Active">Active</option><option value="On Leave">On Leave</option><option value="Terminated">Terminated</option><option value="Retired">Retired</option></select></div></div>
            <div class="form-group"><label>Manager</label><select id="managerId"><option value="">-- No Manager --</option></select></div>
            
            <div class="section-header">üö® Emergency Contact</div>
            <div class="form-row-3"><div class="form-group"><label>Name</label><input type="text" id="emergencyName"></div>
            <div class="form-group"><label>Phone</label><input type="tel" id="emergencyPhone"></div>
            <div class="form-group"><label>Relationship</label><input type="text" id="emergencyRelation"></div></div>
            
            <div class="modal-actions"><button type="button" class="btn btn-secondary" onclick="closeModal('employeeModal')">Cancel</button><button type="submit" class="btn btn-primary">Save Employee</button></div>
        </form>
    </div></div>

    <!-- Dependent Modal -->
    <div id="dependentModal" class="modal"><div class="modal-content">
        <div class="modal-header"><h2 id="dependentModalTitle">Add Dependent</h2><button class="modal-close" onclick="closeModal('dependentModal')">&times;</button></div>
        <form id="dependentForm" onsubmit="saveDependent(event)">
            <input type="hidden" id="dependentId">
            <div class="form-group"><label>Employee *</label><select id="depEmployeeId" required><option value="">-- Select Employee --</option></select></div>
            <div class="form-row"><div class="form-group"><label>Dependent Name *</label><input type="text" id="depName" required></div>
            <div class="form-group"><label>Relationship *</label><select id="depRelation" required><option value="">Select</option><option value="Spouse">Spouse</option><option value="Child">Child</option><option value="Parent">Parent</option><option value="Sibling">Sibling</option><option value="Other">Other</option></select></div></div>
            <div class="form-row"><div class="form-group"><label>Date of Birth</label><input type="date" id="depDob"></div>
            <div class="form-group"><label>Gender</label><select id="depGender"><option value="">Select</option><option value="Male">Male</option><option value="Female">Female</option><option value="Other">Other</option></select></div></div>
            <div class="form-row"><div class="form-group"><label>Phone</label><input type="tel" id="depPhone"></div>
            <div class="form-group"><label>Email</label><input type="email" id="depEmail"></div></div>
            <div class="form-group"><label><input type="checkbox" id="depEmergency"> Is Emergency Contact</label></div>
            <div class="modal-actions"><button type="button" class="btn btn-secondary" onclick="closeModal('dependentModal')">Cancel</button><button type="submit" class="btn btn-primary">Save</button></div>
        </form>
    </div></div>

    <!-- Works Modal -->
    <div id="worksModal" class="modal"><div class="modal-content">
        <div class="modal-header"><h2 id="worksModalTitle">Assign Employee</h2><button class="modal-close" onclick="closeModal('worksModal')">&times;</button></div>
        <form id="worksForm" onsubmit="saveWorks(event)">
            <input type="hidden" id="worksOldEmpId"><input type="hidden" id="worksOldCompany">
            <div class="form-group"><label>Employee *</label><select id="worksEmpId" required><option value="">-- Select --</option></select></div>
            <div class="form-group"><label>Company *</label><select id="worksCompany" required><option value="">-- Select --</option></select></div>
            <div class="form-group"><label>Monthly Salary</label><input type="number" id="worksSalary" value="0" min="0"></div>
            <div class="modal-actions"><button type="button" class="btn btn-secondary" onclick="closeModal('worksModal')">Cancel</button><button type="submit" class="btn btn-primary">Save</button></div>
        </form>
    </div></div>

    <!-- Manages Modal -->
    <div id="managesModal" class="modal"><div class="modal-content">
        <div class="modal-header"><h2>Assign Manager</h2><button class="modal-close" onclick="closeModal('managesModal')">&times;</button></div>
        <form id="managesForm" onsubmit="saveManages(event)">
            <div class="form-group"><label>Employee *</label><select id="managesEmpId" required><option value="">-- Select --</option></select></div>
            <div class="form-group"><label>Reports To *</label><select id="managesManagerId" required><option value="">-- Select --</option></select></div>
            <div class="modal-actions"><button type="button" class="btn btn-secondary" onclick="closeModal('managesModal')">Cancel</button><button type="submit" class="btn btn-primary">Save</button></div>
        </form>
    </div></div>

    <!-- Department Modal -->
    <div id="departmentModal" class="modal"><div class="modal-content">
        <div class="modal-header"><h2 id="departmentModalTitle">Add Department</h2><button class="modal-close" onclick="closeModal('departmentModal')">&times;</button></div>
        <form id="departmentForm" onsubmit="saveDepartment(event)">
            <input type="hidden" id="departmentId">
            <div class="form-row"><div class="form-group"><label>Name *</label><input type="text" id="deptName" required></div>
            <div class="form-group"><label>Head</label><select id="deptHead"><option value="">-- Select --</option></select></div></div>
            <div class="form-row"><div class="form-group"><label>Location</label><input type="text" id="deptLocation"></div>
            <div class="form-group"><label>Budget</label><input type="number" id="deptBudget" min="0"></div></div>
            <div class="form-group"><label>Description</label><textarea id="deptDescription" rows="2"></textarea></div>
            <div class="form-group"><label>Status</label><select id="deptStatus"><option value="Active">Active</option><option value="Inactive">Inactive</option></select></div>
            <div class="modal-actions"><button type="button" class="btn btn-secondary" onclick="closeModal('departmentModal')">Cancel</button><button type="submit" class="btn btn-primary">Save</button></div>
        </form>
    </div></div>

    <!-- Leave Request Modal -->
    <div id="leaveModal" class="modal"><div class="modal-content">
        <div class="modal-header"><h2 id="leaveModalTitle">Request Leave</h2><button class="modal-close" onclick="closeModal('leaveModal')">&times;</button></div>
        <form id="leaveForm" onsubmit="saveLeave(event)">
            <input type="hidden" id="leaveId">
            <div class="form-group"><label>Employee *</label><select id="leaveEmpId" required><option value="">-- Select --</option></select></div>
            <div class="form-row"><div class="form-group"><label>Leave Type *</label><select id="leaveType" required>
                <option value="Annual">Annual Leave</option><option value="Sick">Sick Leave</option><option value="Personal">Personal Leave</option>
                <option value="Maternity">Maternity Leave</option><option value="Paternity">Paternity Leave</option><option value="Unpaid">Unpaid Leave</option>
            </select></div>
            <div class="form-group"><label><input type="checkbox" id="leaveHalfDay"> Half Day</label></div></div>
            <div class="form-row"><div class="form-group"><label>From *</label><input type="date" id="leaveStart" required></div>
            <div class="form-group"><label>To *</label><input type="date" id="leaveEnd" required></div></div>
            <div class="form-group"><label>Reason</label><textarea id="leaveReason" rows="3"></textarea></div>
            <div class="modal-actions"><button type="button" class="btn btn-secondary" onclick="closeModal('leaveModal')">Cancel</button><button type="submit" class="btn btn-primary">Submit Request</button></div>
        </form>
    </div></div>

    <!-- Holiday Modal -->
    <div id="holidayModal" class="modal"><div class="modal-content">
        <div class="modal-header"><h2>Add Holiday</h2><button class="modal-close" onclick="closeModal('holidayModal')">&times;</button></div>
        <form id="holidayForm" onsubmit="saveHoliday(event)">
            <div class="form-row"><div class="form-group"><label>Holiday Name *</label><input type="text" id="holidayName" required></div>
            <div class="form-group"><label>Date *</label><input type="date" id="holidayDate" required></div></div>
            <div class="form-row"><div class="form-group"><label>Type</label><select id="holidayType"><option value="Public">Public</option><option value="Company">Company</option><option value="Optional">Optional</option></select></div>
            <div class="form-group"><label>Applicable To</label><input type="text" id="holidayBranches" value="All" placeholder="All or branch names"></div></div>
            <div class="form-group"><label>Description</label><input type="text" id="holidayDescription"></div>
            <div class="modal-actions"><button type="button" class="btn btn-secondary" onclick="closeModal('holidayModal')">Cancel</button><button type="submit" class="btn btn-primary">Save</button></div>
        </form>
    </div></div>

    <!-- Attendance Modal -->
    <div id="attendanceModal" class="modal"><div class="modal-content">
        <div class="modal-header"><h2>Mark Attendance</h2><button class="modal-close" onclick="closeModal('attendanceModal')">&times;</button></div>
        <form id="attendanceForm" onsubmit="saveAttendance(event)">
            <div class="form-group"><label>Employee *</label><select id="attEmpId" required><option value="">-- Select --</option></select></div>
            <div class="form-row"><div class="form-group"><label>Date *</label><input type="date" id="attDate" required></div>
            <div class="form-group"><label>Status</label><select id="attStatus"><option value="Present">Present</option><option value="Absent">Absent</option><option value="Late">Late</option><option value="Half Day">Half Day</option></select></div></div>
            <div class="form-row"><div class="form-group"><label>Check In</label><input type="time" id="attCheckIn"></div>
            <div class="form-group"><label>Check Out</label><input type="time" id="attCheckOut"></div></div>
            <div class="form-group"><label>Notes</label><input type="text" id="attNotes"></div>
            <div class="modal-actions"><button type="button" class="btn btn-secondary" onclick="closeModal('attendanceModal')">Cancel</button><button type="submit" class="btn btn-primary">Save</button></div>
        </form>
    </div></div>

    <!-- Document Modal -->
    <div id="documentModal" class="modal"><div class="modal-content">
        <div class="modal-header"><h2 id="documentModalTitle">Add Document</h2><button class="modal-close" onclick="closeModal('documentModal')">&times;</button></div>
        <form id="documentForm" onsubmit="saveDocument(event)">
            <input type="hidden" id="documentId">
            <div class="form-row"><div class="form-group"><label>Document Name *</label><input type="text" id="docName" required></div>
            <div class="form-group"><label>Category *</label><select id="docCategory" required>
                <option value="ID Proof">ID Proof</option><option value="Address Proof">Address Proof</option><option value="Educational">Educational</option>
                <option value="Professional">Professional</option><option value="Contract">Contract</option><option value="Visa">Visa</option>
                <option value="License">License</option><option value="Certificate">Certificate</option><option value="Other">Other</option>
            </select></div></div>
            <div class="form-group"><label>Employee</label><select id="docEmpId"><option value="">-- Company Document --</option></select></div>
            <div class="form-group"><label>File URL *</label><input type="text" id="docUrl" required placeholder="Enter document URL"></div>
            <div class="form-row"><div class="form-group"><label>Expiry Date</label><input type="date" id="docExpiry"></div>
            <div class="form-group"><label>File Type</label><select id="docFileType"><option value="pdf">PDF</option><option value="image">Image</option><option value="doc">Word Doc</option><option value="other">Other</option></select></div></div>
            <div class="form-group"><label>Description</label><textarea id="docDescription" rows="2"></textarea></div>
            <div class="modal-actions"><button type="button" class="btn btn-secondary" onclick="closeModal('documentModal')">Cancel</button><button type="submit" class="btn btn-primary">Save</button></div>
        </form>
    </div></div>

    <!-- Performance Review Modal -->
    <div id="reviewModal" class="modal"><div class="modal-content modal-large">
        <div class="modal-header"><h2 id="reviewModalTitle">New Performance Review</h2><button class="modal-close" onclick="closeModal('reviewModal')">&times;</button></div>
        <form id="reviewForm" onsubmit="saveReview(event)">
            <input type="hidden" id="reviewId">
            <div class="form-row"><div class="form-group"><label>Employee *</label><select id="reviewEmpId" required><option value="">-- Select --</option></select></div>
            <div class="form-group"><label>Review Period</label><input type="text" id="reviewPeriod" placeholder="e.g., Q1 2026, Annual 2025"></div></div>
            <div class="form-row"><div class="form-group"><label>Review Type</label><select id="reviewType"><option value="Annual">Annual</option><option value="Quarterly">Quarterly</option><option value="Probation">Probation</option><option value="Project">Project</option></select></div>
            <div class="form-group"><label>Review Date</label><input type="date" id="reviewDate"></div></div>
            <div class="section-header">‚≠ê Ratings (1-5)</div>
            <div class="form-row">
                <div class="form-group"><label>Overall</label><input type="number" id="ratingOverall" min="1" max="5" step="0.1"></div>
                <div class="form-group"><label>Goals</label><input type="number" id="ratingGoals" min="1" max="5" step="0.1"></div>
                <div class="form-group"><label>Skills</label><input type="number" id="ratingSkills" min="1" max="5" step="0.1"></div>
                <div class="form-group"><label>Teamwork</label><input type="number" id="ratingTeamwork" min="1" max="5" step="0.1"></div>
            </div>
            <div class="section-header">üìù Feedback</div>
            <div class="form-group"><label>Strengths</label><textarea id="reviewStrengths" rows="2"></textarea></div>
            <div class="form-group"><label>Areas for Improvement</label><textarea id="reviewImprovements" rows="2"></textarea></div>
            <div class="form-group"><label>Goals Achieved</label><textarea id="reviewGoalsAchieved" rows="2"></textarea></div>
            <div class="form-group"><label>New Goals</label><textarea id="reviewNewGoals" rows="2"></textarea></div>
            <div class="modal-actions"><button type="button" class="btn btn-secondary" onclick="closeModal('reviewModal')">Cancel</button><button type="submit" class="btn btn-primary">Save Review</button></div>
        </form>
    </div></div>

    <!-- Goal Modal -->
    <div id="goalModal" class="modal"><div class="modal-content">
        <div class="modal-header"><h2 id="goalModalTitle">Add Goal</h2><button class="modal-close" onclick="closeModal('goalModal')">&times;</button></div>
        <form id="goalForm" onsubmit="saveGoal(event)">
            <input type="hidden" id="goalId">
            <div class="form-group"><label>Employee *</label><select id="goalEmpId" required><option value="">-- Select --</option></select></div>
            <div class="form-group"><label>Goal Title *</label><input type="text" id="goalTitle" required></div>
            <div class="form-row"><div class="form-group"><label>Category</label><select id="goalCategory"><option value="Performance">Performance</option><option value="Learning">Learning</option><option value="Career">Career</option><option value="Team">Team</option></select></div>
            <div class="form-group"><label>Priority</label><select id="goalPriority"><option value="Low">Low</option><option value="Medium">Medium</option><option value="High">High</option><option value="Critical">Critical</option></select></div></div>
            <div class="form-row"><div class="form-group"><label>Target</label><input type="text" id="goalTarget" placeholder="e.g., 100"></div>
            <div class="form-group"><label>Due Date</label><input type="date" id="goalDue"></div></div>
            <div class="form-group"><label>Description</label><textarea id="goalDescription" rows="2"></textarea></div>
            <div class="modal-actions"><button type="button" class="btn btn-secondary" onclick="closeModal('goalModal')">Cancel</button><button type="submit" class="btn btn-primary">Save Goal</button></div>
        </form>
    </div></div>

    <!-- Leave Approval Modal -->
    <div id="leaveApprovalModal" class="modal"><div class="modal-content">
        <div class="modal-header"><h2>Review Leave Request</h2><button class="modal-close" onclick="closeModal('leaveApprovalModal')">&times;</button></div>
        <div id="leaveApprovalDetails"></div>
        <div class="form-group"><label>Comments</label><textarea id="leaveApprovalComments" rows="2" placeholder="Optional comments"></textarea></div>
        <div class="modal-actions">
            <button class="btn btn-secondary" onclick="closeModal('leaveApprovalModal')">Cancel</button>
            <button class="btn btn-danger" onclick="rejectLeave()">‚ùå Reject</button>
            <button class="btn btn-success" onclick="approveLeave()">‚úÖ Approve</button>
        </div>
    </div></div>

    <script src="app.js"></script>
</body>
</html>
